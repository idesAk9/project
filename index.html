<!DOCTYPE html>
<html>
<head>
  <title>Design with Name Overlay</title>
  <style>
    #designContainer {
      position: relative;
      display: inline-block;
    }

    #designImage {
      display: block;
      border: 1px solid #000;
    }

    #nameInput {
      display: block;
      width: 300px;
      margin: 20px auto;
      font-size: 18px;
      padding: 5px;
      box-sizing: border-box;
    }

    #submitButton {
      display: block;
      width: 200px;
      margin: 20px auto;
      font-size: 20px;
      padding: 10px;
      background-color: #15775E;
      color: #fff;
      border: none;
      cursor: pointer;
    }

    #downloadButton {
      display: block;
      width: 200px;
      margin: 20px auto;
      font-size: 20px;
      padding: 10px;
      background-color: #15775E;
      color: #fff;
      border: none;
      cursor: pointer;
      text-align: center;
      text-decoration: none;
    }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@500&display=swap" rel="stylesheet">
  <script>
    // Handle user input and overlay the name on the design
    var submitButton = document.getElementById('submitButton');
    submitButton.addEventListener('click', function() {
      var name = document.getElementById('nameInput').value;

      var designContainer = document.getElementById('designContainer');
      var designImage = document.getElementById('designImage');
      var canvas = document.createElement('canvas');
      canvas.width = designImage.width;
      canvas.height = designImage.height;
      var ctx = canvas.getContext('2d');

      ctx.drawImage(designImage, 0, 0);
      ctx.fillStyle = '#FFFFFF'; // Set the text color
      ctx.font = '72px "Tajawal", sans-serif'; // Set the font style

      // Replace the coordinates (x, y) with the desired position to overlay the name
      var x = 550;
      var y = 1150;

      // Calculate the text width for centering
      var textWidth = ctx.measureText(name).width;
      var centerX = x - textWidth / 2;

      // Draw the text at the specified coordinates
      ctx.fillText(name, centerX, y);

      // Update the image source to the modified canvas
      designImage.src = canvas.toDataURL();

      // Show the download button
      var downloadButton = document.getElementById('downloadButton');
      downloadButton.style.display = 'block';
      downloadButton.href = designImage.src; // Set the modified image as the href for download
    });

    // Generate the shareable URL
    function generateURL() {
      var designImage = document.getElementById('designImage');
      var dataURL = designImage.src;
      console.log('Shareable URL:', dataURL);

      // You can now provide the 'dataURL' to the user for sharing purposes
      // For example, you could display it in an <img> element or create a hyperlink
    }
  </script>
</head>
<body>
  <div id="designContainer">
    <img id="designImage" src="EidE.png" alt="Design Image">
  </div>
  <br>
  <input type="text" id="nameInput" placeholder="أكتب اسمك هنا">
  <button id="submitButton">Submit</button>
  <br>
  <a href="#" download="design_with_name.png" id="downloadButton" style="display: none;">Download Image</a>
</body>
</html>
