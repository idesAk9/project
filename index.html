<!DOCTYPE html>
<html>
<head>
  <title>Design with Name Overlay</title>
  <style>
    #canvas {
      border: 1px solid #000;
    }

    #nameInput {
      display: block;
      width: 300px;
      margin: 20px auto;
      font-size: 18px;
      padding: 5px;
      box-sizing: border-box;
    }

    #submitButton {
      display: block;
      width: 200px;
      margin: 20px auto;
      font-size: 20px;
      padding: 10px;
      background-color: #15775E;
      color: #fff;
      border: none;
      cursor: pointer;
    }

    #downloadButton {
      display: block;
      width: 200px;
      margin: 20px auto;
      font-size: 20px;
      padding: 10px;
      background-color: #15775E;
      color: #fff;
      border: none;
      cursor: pointer;
      text-align: center;
      text-decoration: none;
    }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@500&display=swap" rel="stylesheet">
  <script>
    // Load the design onto the canvas
    function loadDesign() {
      var canvas = document.getElementById('canvas');
      var ctx = canvas.getContext('2d');

      // Replace 'EidE.png' with the path to your PNG image
      var designImage = new Image();
      designImage.src = 'EidE.png';

      designImage.onload = function() {
        var canvasAspectRatio = canvas.width / canvas.height;
        var imageAspectRatio = designImage.width / designImage.height;

        // Calculate the appropriate dimensions and position to fit the image within the canvas
        var width, height, x, y;
        if (canvasAspectRatio > imageAspectRatio) {
          width = canvas.width;
          height = canvas.width / imageAspectRatio;
          x = 0;
          y = (canvas.height - height) / 2;
        } else {
          width = canvas.height * imageAspectRatio;
          height = canvas.height;
          x = (canvas.width - width) / 2;
          y = 0;
        }

        // Draw the image onto the canvas
        ctx.drawImage(designImage, x, y, width, height);
      };
    }

    // Handle user input and overlay the name on the design
    function overlayName() {
      var canvas = document.getElementById('canvas');
      var ctx = canvas.getContext('2d');
      var nameInput = document.getElementById('nameInput').value;

      ctx.fillStyle = '#FFFFFF'; // Set the text color
      ctx.font = '72px Tajawal, sans-serif'; // Set the font style

      // Replace the coordinates (x, y) with the desired position to overlay the name
      var x = 550;
      var y = 1150;

      // Clear canvas before overlaying the name
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // Redraw the design image
      loadDesign();

      // Draw the text at the specified coordinates
      ctx.fillText(nameInput, x, y);

      // Show the download button
      var downloadButton = document.getElementById('downloadButton');
      downloadButton.style.display = 'block';
      downloadButton.href = canvas.toDataURL(); // Set the data URL as the href for download
    }
  </script>
</head>
<body onload="loadDesign()">
  <canvas id="canvas" width="1080" height="1350"></canvas>
  <br>
  <input type="text" id="nameInput" placeholder="أكتب اسمك هنا">
  <button id="submitButton" onclick="overlayName()">Submit</button>
  <br>
  <a href="#" download="design_with_name.png" id="downloadButton" style="display: none;">Download Image</a>
</body>
</html>
